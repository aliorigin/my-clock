<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Ø³Ø§Ø¹Øª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù†Ø¦ÙˆÙ†</title>
	<style>
		@import url('https://cdn.jsdelivr.net/gh/rastikerdar/iran-sans/fontface.css');
		@import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap');
		
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		html, body {
			width: 100%;
			height: 100%;
			overflow: hidden;
		}

		body {
			background: #000000;
			font-family: 'Iran Sans', sans-serif;
			color: #FFFFFF;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			padding: 20px;
			position: relative;
		}

		body::before {
			content: '';
			position: absolute;
			width: 100%;
			height: 100%;
			background: 
				radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.03) 0%, transparent 50%),
				radial-gradient(circle at 80% 70%, rgba(255, 0, 255, 0.03) 0%, transparent 50%);
			animation: pulse 8s ease-in-out infinite;
			z-index: 0;
		}

		@keyframes pulse {
			0%, 100% { opacity: 0.5; }
			50% { opacity: 1; }
		}

		.container {
			position: relative;
			z-index: 1;
			text-align: center;
			width: 100%;
			max-width: 1200px;
			display: flex;
			flex-direction: column;
			gap: 25px;
		}

		.basmala {
			font-size: clamp(28px, 5vw, 48px);
			color: #FFFFFF;
			text-shadow: 0 0 15px rgba(255, 255, 255, 0.6);
			margin-bottom: 40px;
			font-family: 'Traditional Arabic', 'Arabic Typesetting', serif;
			font-weight: 400;
			letter-spacing: 3px;
			animation: fadeInUp 0.8s ease-out backwards;
		}

		.clock-section {
			background: rgba(0, 0, 0, 0.8);
			border: 2px solid #00FFFF;
			border-radius: 20px;
			padding: 30px;
			box-shadow: 
				0 0 20px rgba(0, 255, 255, 0.5),
				inset 0 0 20px rgba(0, 255, 255, 0.1);
		}

		#clocktext {
			font-size: clamp(48px, 15vw, 180px);
			font-weight: 700;
			letter-spacing: 0.1em;
			color: #00FFFF;
			font-family: 'Iran Sans', sans-serif;
			transition: all 0.3s ease;
		}

		.date-section {
			background: rgba(0, 0, 0, 0.8);
			border: 2px solid #FF00FF;
			border-radius: 20px;
			padding: 25px;
			box-shadow: 
				0 0 20px rgba(255, 0, 255, 0.5),
				inset 0 0 20px rgba(255, 0, 255, 0.1);
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 20px;
		}

		.date-item {
			padding: 15px;
			background: rgba(255, 0, 255, 0.05);
			border-radius: 12px;
			border: 1px solid rgba(255, 0, 255, 0.3);
		}

		.date-label {
			font-size: clamp(14px, 2vw, 18px);
			color: #FF00FF;
			margin-bottom: 8px;
			text-shadow: 0 0 10px #FF00FF;
		}

		.date-value {
			font-size: clamp(18px, 3vw, 24px);
			font-weight: 700;
			color: #FFFFFF;
			transition: all 0.3s ease;
			white-space: nowrap;
		}

		#shamsiDate {
			font-family: 'Iran Sans', sans-serif;
		}

		#miladiDate {
			font-family: 'Iran Sans', sans-serif;
		}

		#ghamariDate {
			font-family: 'Amiri', 'Traditional Arabic', serif;
			font-weight: 700;
		}

		.info-section {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
			gap: 20px;
		}

		.info-box {
			background: rgba(0, 0, 0, 0.8);
			border: 2px solid;
			border-radius: 20px;
			padding: 25px;
			transition: all 0.5s ease;
			display: flex;
			align-items: center;
			justify-content: center;
			min-height: 100px;
		}

		.info-box:hover {
			transform: translateY(-5px);
		}

		#daysPassed {
			border-color: #00FF00;
			box-shadow: 
				0 0 20px rgba(0, 255, 0, 0.5),
				inset 0 0 20px rgba(0, 255, 0, 0.1);
		}

		#daysToExam, #daysToExam2 {
			transition: all 0.5s ease;
		}

		.info-text {
			font-size: clamp(16px, 2.5vw, 20px);
			line-height: 1.8;
			display: flex;
			align-items: center;
			justify-content: center;
			text-align: center;
			flex-wrap: wrap;
		}

		.info-value {
			font-weight: 700;
			font-size: clamp(18px, 3vw, 24px);
			display: inline-block;
			margin: 0 5px;
			padding: 3px 10px;
			border-radius: 8px;
			background: rgba(255, 255, 255, 0.1);
			white-space: nowrap;
			font-family: 'Iran Sans', sans-serif;
			transition: all 0.3s ease;
		}

		#daysPassed .info-value {
			color: #00FF00;
		}

		.controls-container {
			position: fixed;
			bottom: 20px;
			left: 20px;
			display: flex;
			gap: 10px;
			z-index: 1000;
		}

		.control-btn {
			width: 40px;
			height: 40px;
			border-radius: 50%;
			background: rgba(0, 0, 0, 0.8);
			border: 2px solid #00FFFF;
			color: #00FFFF;
			cursor: pointer;
			font-size: 20px;
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
			transition: all 0.3s ease;
		}

		.control-btn:hover {
			transform: scale(1.1);
			box-shadow: 0 0 25px rgba(0, 255, 255, 0.8);
		}

		.control-btn:active {
			transform: scale(0.95);
		}

		.settings-panel {
			position: fixed;
			bottom: 80px;
			left: 20px;
			background: rgba(0, 0, 0, 0.95);
			border: 2px solid #00FFFF;
			border-radius: 15px;
			padding: 20px;
			min-width: 300px;
			max-height: 70vh;
			overflow-y: auto;
			box-shadow: 0 0 30px rgba(0, 255, 255, 0.6);
			display: none;
			z-index: 999;
		}

		.settings-panel::-webkit-scrollbar {
			width: 8px;
		}

		.settings-panel::-webkit-scrollbar-track {
			background: rgba(255, 255, 255, 0.1);
			border-radius: 4px;
		}

		.settings-panel::-webkit-scrollbar-thumb {
			background: #00FFFF;
			border-radius: 4px;
		}

		.settings-panel.active {
			display: block;
			animation: slideUp 0.3s ease-out;
		}

		@keyframes slideUp {
			from {
				opacity: 0;
				transform: translateY(20px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.setting-item {
			margin-bottom: 20px;
		}

		.setting-label {
			display: block;
			color: #00FFFF;
			font-size: 14px;
			margin-bottom: 8px;
			text-shadow: 0 0 5px #00FFFF;
		}

		.slider {
			width: 100%;
			height: 6px;
			border-radius: 3px;
			background: rgba(255, 255, 255, 0.2);
			outline: none;
			-webkit-appearance: none;
		}

		.slider::-webkit-slider-thumb {
			-webkit-appearance: none;
			appearance: none;
			width: 16px;
			height: 16px;
			border-radius: 50%;
			background: #00FFFF;
			cursor: pointer;
			box-shadow: 0 0 10px #00FFFF;
		}

		.slider::-moz-range-thumb {
			width: 16px;
			height: 16px;
			border-radius: 50%;
			background: #00FFFF;
			cursor: pointer;
			border: none;
			box-shadow: 0 0 10px #00FFFF;
		}

		.color-options {
			display: flex;
			gap: 10px;
			flex-wrap: wrap;
		}

		.color-option {
			width: 40px;
			height: 40px;
			border-radius: 50%;
			cursor: pointer;
			border: 2px solid transparent;
			transition: all 0.3s ease;
		}

		.color-option:hover {
			transform: scale(1.1);
		}

		.color-option.active {
			border-color: #FFFFFF;
			box-shadow: 0 0 15px currentColor;
		}

		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(30px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.clock-section { animation: fadeInUp 0.6s ease-out 0.1s backwards; }
		.date-section { animation: fadeInUp 0.6s ease-out 0.2s backwards; }
		.info-section { animation: fadeInUp 0.6s ease-out 0.3s backwards; }

		@media (max-width: 768px) {
			body {
				padding: 10px;
			}

			.container {
				gap: 15px;
			}

			.basmala {
				font-size: clamp(20px, 5vw, 32px);
				margin-bottom: 20px;
				letter-spacing: 1px;
			}

			.clock-section {
				padding: 20px 15px;
			}

			#clocktext {
				font-size: clamp(40px, 12vw, 100px);
			}

			.date-section {
				padding: 15px;
				grid-template-columns: 1fr;
				gap: 12px;
			}

			.date-item {
				padding: 10px;
			}

			.date-label {
				font-size: clamp(12px, 3vw, 16px);
			}

			.date-value {
				font-size: clamp(14px, 3.5vw, 20px);
				white-space: normal;
			}

			.info-section {
				grid-template-columns: 1fr;
				gap: 15px;
			}

			.info-box {
				padding: 15px;
				min-height: 80px;
			}

			.info-text {
				font-size: clamp(14px, 3.5vw, 18px);
			}

			.info-value {
				font-size: clamp(16px, 4vw, 22px);
				padding: 2px 8px;
			}

			.control-btn {
				width: 45px;
				height: 45px;
				font-size: 22px;
			}

			.settings-panel {
				min-width: 280px;
				max-width: calc(100vw - 40px);
				left: 50%;
				transform: translateX(-50%);
				bottom: 90px;
				max-height: 60vh;
			}

			.settings-panel.active {
				transform: translateX(-50%);
			}
		}

		@media (max-width: 480px) {
			body {
				padding: 8px;
			}

			.container {
				gap: 12px;
			}

			.basmala {
				font-size: clamp(18px, 5vw, 28px);
				margin-bottom: 15px;
			}

			.clock-section {
				padding: 15px 10px;
			}

			#clocktext {
				font-size: clamp(36px, 12vw, 80px);
			}

			.date-section {
				padding: 12px;
				gap: 10px;
			}

			.info-box {
				padding: 12px;
				min-height: 70px;
			}
		}

		@media (max-height: 600px) and (orientation: landscape) {
			.container {
				gap: 10px;
			}

			.basmala {
				margin-bottom: 10px;
				font-size: clamp(20px, 4vw, 32px);
			}

			.clock-section, .date-section, .info-box {
				padding: 12px;
			}

			.info-box {
				min-height: 60px;
			}
		}
	</style>
</head>

<body>
	<div class="container">
		<div class="basmala">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù</div>
		
		<div class="clock-section">
			<span id="clocktext">Û°Û°:Û°Û°:Û°Û°</span>
		</div>

		<div class="date-section">
			<div class="date-item">
				<div class="date-label">ØªØ§Ø±ÛŒØ® Ø´Ù…Ø³ÛŒ</div>
				<div class="date-value" id="shamsiDate">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</div>
			</div>
			<div class="date-item">
				<div class="date-label">ØªØ§Ø±ÛŒØ® Ù…ÛŒÙ„Ø§Ø¯ÛŒ</div>
				<div class="date-value" id="miladiDate">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</div>
			</div>
			<div class="date-item">
				<div class="date-label">ØªØ§Ø±ÛŒØ® Ù‚Ù…Ø±ÛŒ</div>
				<div class="date-value" id="ghamariDate">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</div>
			</div>
		</div>

		<div class="info-section">
			<div id="daysPassed" class="info-box">
				<div class="info-text">Ø§Ù…Ø±ÙˆØ² <span class="info-value">Û°</span> Ø§Ù…ÛŒÙ† Ø±ÙˆØ²ÛŒÙ‡ Ú©Ù‡ Ø²Ù†Ø¯Ù…</div>
			</div>
			<div id="daysToExam" class="info-box">
				<div class="info-text">ØªØ§ Ø§Ù…ØªØ­Ø§Ù† Ø²Ø¨Ø§Ù† Ø§ÙˆÙ„ <span class="info-value">Û°</span> Ø±ÙˆØ² Ù…Ø§Ù†Ø¯Ù‡ Ø§Ø³Øª</div>
			</div>
			<div id="daysToExam2" class="info-box">
				<div class="info-text">ØªØ§ Ø§Ù…ØªØ­Ø§Ù† Ø²Ø¨Ø§Ù† Ø¯ÙˆÙ… <span class="info-value">Û°</span> Ø±ÙˆØ² Ù…Ø§Ù†Ø¯Ù‡ Ø§Ø³Øª</div>
			</div>
		</div>
	</div>

	<div class="controls-container">
		<button class="control-btn" id="toggleSeconds" title="Ù†Ù…Ø§ÛŒØ´/Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø«Ø§Ù†ÛŒÙ‡">â±</button>
		<button class="control-btn" id="toggleSettings" title="ØªÙ†Ø¸ÛŒÙ…Ø§Øª">âš™ï¸</button>
	</div>

	<div class="settings-panel" id="settingsPanel">
		<div class="setting-item">
			<label class="setting-label">Ø´Ø¯Øª Ù†ÙˆØ± Ø³Ø§Ø¹Øª</label>
			<input type="range" min="0" max="100" value="15" class="slider" id="glowIntensity">
		</div>
		<div class="setting-item">
			<label class="setting-label">Ø´Ø¯Øª ØªÙ¾Ø´ Ø³Ø§Ø¹Øª</label>
			<input type="range" min="0" max="100" value="30" class="slider" id="pulseIntensity">
		</div>
		<div class="setting-item">
			<label class="setting-label">Ø±Ù†Ú¯ Ø³Ø§Ø¹Øª</label>
			<div class="color-options">
				<div class="color-option" data-color="#00FFFF" style="background: #00FFFF;" title="Ø¢Ø¨ÛŒ Ù†Ø¦ÙˆÙ†"></div>
				<div class="color-option" data-color="#FF00FF" style="background: #FF00FF;" title="ØµÙˆØ±ØªÛŒ"></div>
				<div class="color-option" data-color="#00FF00" style="background: #00FF00;" title="Ø³Ø¨Ø²"></div>
				<div class="color-option" data-color="#FFFF00" style="background: #FFFF00;" title="Ø²Ø±Ø¯"></div>
				<div class="color-option" data-color="#FF0000" style="background: #FF0000;" title="Ù‚Ø±Ù…Ø²"></div>
				<div class="color-option" data-color="#FFA500" style="background: #FFA500;" title="Ù†Ø§Ø±Ù†Ø¬ÛŒ"></div>
				<div class="color-option active" data-color="#FFFFFF" style="background: #FFFFFF;" title="Ø³ÙÛŒØ¯"></div>
			</div>
		</div>
		<div class="setting-item">
			<label class="setting-label">Ø´Ø¯Øª Ù†ÙˆØ± ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§</label>
			<input type="range" min="0" max="100" value="15" class="slider" id="dateGlowIntensity">
		</div>
		<div class="setting-item">
			<label class="setting-label">Ø´Ø¯Øª Ù†ÙˆØ± Ø±ÙˆØ²Ø´Ù…Ø§Ø±Ù‡Ø§</label>
			<input type="range" min="0" max="100" value="15" class="slider" id="counterGlowIntensity">
		</div>
	</div>

	<script>
		"use strict";
		
		const textElem = document.getElementById("clocktext");
		const daysPassedElem = document.getElementById("daysPassed");
		const daysToExamElem = document.getElementById("daysToExam");
		const daysToExam2Elem = document.getElementById("daysToExam2");
		const toggleBtn = document.getElementById("toggleSeconds");
		const settingsBtn = document.getElementById("toggleSettings");
		const settingsPanel = document.getElementById("settingsPanel");
		const glowSlider = document.getElementById("glowIntensity");
		const pulseSlider = document.getElementById("pulseIntensity");
		const dateGlowSlider = document.getElementById("dateGlowIntensity");
		const counterGlowSlider = document.getElementById("counterGlowIntensity");
		const colorOptions = document.querySelectorAll(".color-option");
		
		let showSeconds = false;
		let currentColor = "#FFFFFF";
		let glowIntensity = 15;
		let pulseIntensity = 30;
		let dateGlowIntensity = 15;
		let counterGlowIntensity = 15;
		let animationFrameId = null;

		// ØªØ¨Ø¯ÛŒÙ„ Ø§Ø¹Ø¯Ø§Ø¯ Ø¨Ù‡ ÙØ§Ø±Ø³ÛŒ
		function toPersianNum(num) {
			const persianDigits = ['Û°', 'Û±', 'Û²', 'Û³', 'Û´', 'Ûµ', 'Û¶', 'Û·', 'Û¸', 'Û¹'];
			return String(num).replace(/\d/g, d => persianDigits[d]);
		}

		// ØªØ¨Ø¯ÛŒÙ„ Ø§Ø¹Ø¯Ø§Ø¯ Ø¨Ù‡ Ø¹Ø±Ø¨ÛŒ
		function toArabicNum(num) {
			const arabicDigits = ['Ù ', 'Ù¡', 'Ù¢', 'Ù£', 'Ù¤', 'Ù¥', 'Ù¦', 'Ù§', 'Ù¨', 'Ù©'];
			return String(num).replace(/\d/g, d => arabicDigits[d]);
		}

		function hexToRgba(hex, alpha = 1) {
			const r = parseInt(hex.slice(1, 3), 16);
			const g = parseInt(hex.slice(3, 5), 16);
			const b = parseInt(hex.slice(5, 7), 16);
			return `rgba(${r}, ${g}, ${b}, ${alpha})`;
		}

		function hexToRgb(hex) {
			hex = hex.replace("#", "");
			return [
				parseInt(hex.slice(0, 2), 16),
				parseInt(hex.slice(2, 4), 16),
				parseInt(hex.slice(4, 6), 16)
			];
		}

		function rgbToHex(rgb) {
			return "#" + rgb.map(v => Math.round(v).toString(16).padStart(2, "0")).join("");
		}

		function lerpHex(hexA, hexB, t) {
			const a = hexToRgb(hexA);
			const b = hexToRgb(hexB);
			const r = [
				a[0] + (b[0] - a[0]) * t,
				a[1] + (b[1] - a[1]) * t,
				a[2] + (b[2] - a[2]) * t
			];
			return rgbToHex(r);
		}

		function getColorByDays(days) {
			const green = "#00FF00";
			const white = "#FFFFFF";
			const yellow = "#FFFF00";
			const orange = "#FFA500";
			const red = "#FF0000";

			if (days >= 100) return green;
			if (days <= 0) return red;

			const ranges = [
				{ high: 100, low: 80, highColor: green, lowColor: white },
				{ high: 80, low: 50, highColor: white, lowColor: yellow },
				{ high: 50, low: 35, highColor: yellow, lowColor: orange },
				{ high: 35, low: 0, highColor: orange, lowColor: red }
			];

			for (let r of ranges) {
				if (days <= r.high && days >= r.low) {
					const t = (days - r.low) / (r.high - r.low);
					return lerpHex(r.lowColor, r.highColor, t);
				}
			}

			return red;
		}

		function updateClockGlow() {
			const intensity = glowIntensity / 100;
			const pulse = pulseIntensity / 100;
			
			if (pulse > 0) {
				if (animationFrameId) cancelAnimationFrame(animationFrameId);
				
				let startTime = Date.now();
				
				function animate() {
					const elapsed = Date.now() - startTime;
					const progress = (elapsed % 2000) / 2000;
					const pulseValue = Math.sin(progress * Math.PI * 2) * 0.5 + 0.5;
					
					const minIntensity = intensity;
					const maxIntensity = intensity + (pulse * 0.5);
					const currentIntensity = minIntensity + (maxIntensity - minIntensity) * pulseValue;
					
					const blur1 = 10 * currentIntensity;
					const blur2 = 20 * currentIntensity;
					const blur3 = 40 * currentIntensity;
					const blur4 = 80 * currentIntensity;
					
					textElem.style.textShadow = `
						0 0 ${blur1}px ${currentColor},
						0 0 ${blur2}px ${currentColor},
						0 0 ${blur3}px ${currentColor},
						0 0 ${blur4}px ${currentColor}
					`;
					
					animationFrameId = requestAnimationFrame(animate);
				}
				
				animate();
			} else {
				if (animationFrameId) {
					cancelAnimationFrame(animationFrameId);
					animationFrameId = null;
				}
				
				const blur1 = 10 * intensity;
				const blur2 = 20 * intensity;
				const blur3 = 40 * intensity;
				const blur4 = 80 * intensity;
				
				textElem.style.textShadow = `
					0 0 ${blur1}px ${currentColor},
					0 0 ${blur2}px ${currentColor},
					0 0 ${blur3}px ${currentColor},
					0 0 ${blur4}px ${currentColor}
				`;
			}
			
			textElem.style.color = currentColor;
		}

		function updateDateGlow() {
			const intensity = dateGlowIntensity / 100;
			const blur = 8 * intensity;
			const dateValues = document.querySelectorAll('.date-value');
			dateValues.forEach(el => {
				el.style.textShadow = `0 0 ${blur}px rgba(255, 255, 255, ${intensity})`;
			});
		}

		function updateCounterGlow() {
			const intensity = counterGlowIntensity / 100;
			const dayPassedValue = daysPassedElem.querySelector('.info-value');
			const blur = 15 * intensity;
			dayPassedValue.style.textShadow = `0 0 ${blur}px #00FF00, 0 0 ${blur * 2}px #00FF00`;
		}

		function toShamsi(date) {
			const g2j = (gy, gm, gd) => {
				const g_d_m = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];
				const jy = (gy <= 1600) ? 0 : 979;
				gy -= (gy <= 1600) ? 621 : 1600;
				let days = (365 * gy) + (Math.floor((gy + 3) / 4)) - (Math.floor((gy + 99) / 100)) + 
						   (Math.floor((gy + 399) / 400)) - 80 + gd + g_d_m[gm - 1];
				if (gm > 2 && ((gy % 4 === 0 && gy % 100 !== 0) || (gy % 400 === 0))) days++;
				
				let jy_val = jy + 33 * Math.floor(days / 12053);
				days %= 12053;
				jy_val += 4 * Math.floor(days / 1461);
				days %= 1461;
				jy_val += Math.floor((days - 1) / 365);
				if (days > 365) days = (days - 1) % 365;
				
				const jm = (days < 186) ? 1 + Math.floor(days / 31) : 7 + Math.floor((days - 186) / 30);
				const jd = 1 + ((days < 186) ? (days % 31) : ((days - 186) % 30));
				
				return [jy_val, jm, jd];
			};
			
			const [y, m, d] = g2j(date.getFullYear(), date.getMonth() + 1, date.getDate());
			const months = ['ÙØ±ÙˆØ±Ø¯ÛŒÙ†', 'Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª', 'Ø®Ø±Ø¯Ø§Ø¯', 'ØªÛŒØ±', 'Ù…Ø±Ø¯Ø§Ø¯', 'Ø´Ù‡Ø±ÛŒÙˆØ±', 
							'Ù…Ù‡Ø±', 'Ø¢Ø¨Ø§Ù†', 'Ø¢Ø°Ø±', 'Ø¯ÛŒ', 'Ø¨Ù‡Ù…Ù†', 'Ø§Ø³ÙÙ†Ø¯'];
			const weekDays = ['ÛŒÚ©Ø´Ù†Ø¨Ù‡', 'Ø¯ÙˆØ´Ù†Ø¨Ù‡', 'Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡', 'Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡', 'Ù¾Ù†Ø¬â€ŒØ´Ù†Ø¨Ù‡', 'Ø¬Ù…Ø¹Ù‡', 'Ø´Ù†Ø¨Ù‡'];
			const weekDay = weekDays[date.getDay()];
			return `${weekDay}ØŒ ${toPersianNum(d)} ${months[m - 1]} ${toPersianNum(y)}`;
		}

		function toGhamari(date) {
			const gYear = date.getFullYear();
			const gMonth = date.getMonth() + 1;
			const gDay = date.getDate();
			
			const a = Math.floor((14 - gMonth) / 12);
			const y = gYear + 4800 - a;
			const m = gMonth + 12 * a - 3;
			
			let jd = gDay + Math.floor((153 * m + 2) / 5) + 365 * y + Math.floor(y / 4) - Math.floor(y / 100) + Math.floor(y / 400) - 32045;
			
			// Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªØ§Ø±ÛŒØ® Ù‚Ù…Ø±ÛŒ Ø¨Ø§ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Kuwaiti (Ø¨Ø§ ØªØµØ­ÛŒØ­ ÛŒÚ© Ø±ÙˆØ²Ù‡)
			const l = jd - 1948440 + 10632 - 1; // Ú©Ù… Ú©Ø±Ø¯Ù† 1 Ø±ÙˆØ²
			const n = Math.floor((l - 1) / 10631);
			let remaining = l - 10631 * n + 354;
			
			const jump = Math.floor((10985 - remaining) / 5316) * Math.floor(50 * remaining / 17719) + 
						 Math.floor(remaining / 5670) * Math.floor(43 * remaining / 15238);
			
			remaining = remaining - Math.floor((30 - jump) / 15) * Math.floor(17719 * jump / 50) - 
						Math.floor(jump / 16) * Math.floor(15238 * jump / 43) + 29;
			
			const hMonth = Math.floor(24 * remaining / 709);
			const hDay = remaining - Math.floor(709 * hMonth / 24);
			const hYear = 30 * n + jump - 30;
			
			const months = ['Ù…Ø­Ø±Ù…', 'ØµÙØ±', 'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„', 'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ', 'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰', 'Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø«Ø§Ù†ÙŠØ©',
							'Ø±Ø¬Ø¨', 'Ø´Ø¹Ø¨Ø§Ù†', 'Ø±Ù…Ø¶Ø§Ù†', 'Ø´ÙˆØ§Ù„', 'Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©', 'Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'];
			const weekDays = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
			const weekDay = weekDays[date.getDay()];
			return `${weekDay}ØŒ ${toArabicNum(hDay)} ${months[hMonth - 1]} ${toArabicNum(hYear)}`;
		}

		function updateClock() {
			const now = new Date();
			
			const hours = String(now.getHours()).padStart(2, "0");
			const minutes = String(now.getMinutes()).padStart(2, "0");
			const seconds = String(now.getSeconds()).padStart(2, "0");
			
			if (showSeconds) {
				textElem.textContent = toPersianNum(`${hours}:${minutes}:${seconds}`);
			} else {
				textElem.textContent = toPersianNum(`${hours}:${minutes}`);
			}

			if (!window.datesSet || now.getHours() === 0 && now.getMinutes() === 0) {
				document.getElementById('shamsiDate').textContent = toShamsi(now);
				
				const weekDays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
				const months = ['January', 'February', 'March', 'April', 'May', 'June', 
							   'July', 'August', 'September', 'October', 'November', 'December'];
				const weekDay = weekDays[now.getDay()];
				const month = months[now.getMonth()];
				document.getElementById('miladiDate').textContent = `${weekDay}, ${now.getDate()} ${month} ${now.getFullYear()}`;
				
				document.getElementById('ghamariDate').textContent = toGhamari(now);
				window.datesSet = true;
			}

			const startDate = new Date("1999-11-10T00:00:00");
			const daysPassed = Math.floor((now - startDate) / (1000 * 60 * 60 * 24));
			daysPassedElem.querySelector('.info-value').textContent = toPersianNum(daysPassed);

			const examDate = new Date("2026-01-29T00:00:00");
			const daysRemaining = Math.ceil((examDate - now) / (1000 * 60 * 60 * 24));

			if (daysRemaining <= 0) {
				daysToExamElem.innerHTML = '<div class="info-text">Ø§Ù…ØªØ­Ø§Ù† Ø§ÙˆÙ„ Ø±Ø³ÛŒØ¯Ù‡ Ø§Ø³Øª! ğŸ¯</div>';
				daysToExamElem.style.borderColor = '#FF0000';
				daysToExamElem.style.boxShadow = `0 0 20px ${hexToRgba('#FF0000', 0.5)}, inset 0 0 20px ${hexToRgba('#FF0000', 0.1)}`;
			} else {
				const color = getColorByDays(daysRemaining);
				daysToExamElem.innerHTML = `<div class="info-text">ØªØ§ Ø§Ù…ØªØ­Ø§Ù† Ø²Ø¨Ø§Ù† Ø§ÙˆÙ„ <span class="info-value" style="color:${color}; text-shadow: 0 0 ${15 * counterGlowIntensity / 100}px ${color}, 0 0 ${30 * counterGlowIntensity / 100}px ${color};">${toPersianNum(daysRemaining)}</span> Ø±ÙˆØ² Ù…Ø§Ù†Ø¯Ù‡ Ø§Ø³Øª</div>`;
				daysToExamElem.style.borderColor = color;
				daysToExamElem.style.boxShadow = `0 0 20px ${hexToRgba(color, 0.5)}, inset 0 0 20px ${hexToRgba(color, 0.1)}`;
			}

			const examDate2 = new Date("2026-02-26T00:00:00");
			const daysRemaining2 = Math.ceil((examDate2 - now) / (1000 * 60 * 60 * 24));

			if (daysRemaining2 <= 0) {
				daysToExam2Elem.innerHTML = '<div class="info-text">Ø§Ù…ØªØ­Ø§Ù† Ø¯ÙˆÙ… Ø±Ø³ÛŒØ¯Ù‡ Ø§Ø³Øª! ğŸ¯</div>';
				daysToExam2Elem.style.borderColor = '#FF0000';
				daysToExam2Elem.style.boxShadow = `0 0 20px ${hexToRgba('#FF0000', 0.5)}, inset 0 0 20px ${hexToRgba('#FF0000', 0.1)}`;
			} else {
				const color2 = getColorByDays(daysRemaining2);
				daysToExam2Elem.innerHTML = `<div class="info-text">ØªØ§ Ø§Ù…ØªØ­Ø§Ù† Ø²Ø¨Ø§Ù† Ø¯ÙˆÙ… <span class="info-value" style="color:${color2}; text-shadow: 0 0 ${15 * counterGlowIntensity / 100}px ${color2}, 0 0 ${30 * counterGlowIntensity / 100}px ${color2};">${toPersianNum(daysRemaining2)}</span> Ø±ÙˆØ² Ù…Ø§Ù†Ø¯Ù‡ Ø§Ø³Øª</div>`;
				daysToExam2Elem.style.borderColor = color2;
				daysToExam2Elem.style.boxShadow = `0 0 20px ${hexToRgba(color2, 0.5)}, inset 0 0 20px ${hexToRgba(color2, 0.1)}`;
			}

			setTimeout(updateClock, 1000 - now.getTime() % 1000 + 20);
		}

		toggleBtn.addEventListener('click', () => {
			showSeconds = !showSeconds;
			toggleBtn.style.opacity = showSeconds ? '1' : '0.5';
			updateClock();
		});

		toggleBtn.style.opacity = '0.5';

		settingsBtn.addEventListener('click', () => {
			settingsPanel.classList.toggle('active');
		});

		glowSlider.addEventListener('input', (e) => {
			glowIntensity = e.target.value;
			updateClockGlow();
		});

		pulseSlider.addEventListener('input', (e) => {
			pulseIntensity = e.target.value;
			updateClockGlow();
		});

		dateGlowSlider.addEventListener('input', (e) => {
			dateGlowIntensity = e.target.value;
			updateDateGlow();
		});

		counterGlowSlider.addEventListener('input', (e) => {
			counterGlowIntensity = e.target.value;
			updateCounterGlow();
			updateClock();
		});

		colorOptions.forEach(option => {
			option.addEventListener('click', () => {
				colorOptions.forEach(opt => opt.classList.remove('active'));
				option.classList.add('active');
				currentColor = option.getAttribute('data-color');
				updateClockGlow();
			});
		});

		updateClockGlow();
		updateDateGlow();
		updateCounterGlow();
		updateClock();
	</script>
</body>
</html>
